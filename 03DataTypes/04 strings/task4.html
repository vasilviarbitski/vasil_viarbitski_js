<!--Strings
4. You are given a text. Write a function that changes the text in all regions:
    * `<upcase>text</upcase>` to uppercase.
    * `<lowcase>text</lowcase>` to lowercase
    * `<mixcase>text</mixcase>` to mix casing (random)
    
    **Example**: `We are <mixcase>living</mixcase> in a <upcase>yellow submarine</upcase>. We <mixcase>don't</mixcase> have <lowcase>anything</lowcase> else.`
    
    The expected result: `We are LiVinG in a YELLOW SUBMARINE. We dOn'T have anything else.`

    Regions can be nested.
    -->

<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<script type="text/javascript">
     
var string = `We are <mixcase>living</mixcase> in a <upcase>yellow submarine</upcase>. We <mixcase>don't</mixcase> have <lowcase>anything</lowcase> else.`;

var allC = function (str){
	this.str = str;
    function mixCase(str) {
        this.str = str;
        var replaced = '';
        for (var i = 0; i < str.length; i++) {
            replaced += str.charAt(i)[Math.round(Math.random()) ? 'toLowerCase' : 'toUpperCase']();
        };
        return replaced;
    };
 
    this.str = this.str.replace( /<upcase>(.*?)<\/upcase>/g, 
    	function(match, p1) {
        return p1.toUpperCase();
        }
	).replace(/<lowcase>(.*?)<\/lowcase>/g, 
	function(match, p1) {
            return p1.toLowerCase();
        }
    ).replace(/<mixcase>(.*?)<\/mixcase>/g, 
    function(match, p1) {
            return mixCase(p1)
        }
        );
document.write(this.str);
};

allC(string);
  
</script>
</body>
</html>    